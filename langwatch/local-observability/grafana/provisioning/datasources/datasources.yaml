apiVersion: 1

datasources:
  # ðŸ”¹ Prometheus â€“ span metrics + service graph metrics
  - name: Prometheus
    type: prometheus
    uid: prometheus            # ðŸ‘ˆ THIS is what Tempo will point at
    access: proxy
    url: http://prometheus:9090
    isDefault: false

  # ðŸ”¹ Tempo â€“ traces backend
  - name: Tempo
    type: tempo
    uid: tempo
    access: proxy
    url: http://tempo:3200
    isDefault: true
    jsonData:
      httpMethod: GET

      # Service graph config â€“ tells Grafana which Prometheus to use
      serviceMap:
        datasourceUid: prometheus

      # Optional but nice: traces â†’ metrics and span metrics panels
      tracesToMetrics:
        datasourceUid: prometheus
